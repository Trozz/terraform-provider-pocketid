---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pocketid_client Resource - pocketid"
subcategory: ""
description: |-
  Manages an OIDC client in Pocket-ID. OIDC clients are applications that can authenticate users through Pocket-ID.
  ~> Note The client secret is only available during resource creation and cannot be retrieved later. Store it securely.
---

# pocketid_client (Resource)

Manages an OIDC client in Pocket-ID. OIDC clients are applications that can authenticate users through Pocket-ID.

~> **Note** The client secret is only available during resource creation and cannot be retrieved later. Store it securely.

## Example Usage

```terraform
## Create a public SPA client (no client secret)
resource "pocketid_client" "spa_app" {
  name = "React SPA Application"

  callback_urls = [
    "https://spa.example.com/callback",
    "http://localhost:3000/callback"
  ]

  logout_callback_urls = [
    "https://spa.example.com/logout",
    "http://localhost:3000/logout"
  ]

  is_public    = true
  pkce_enabled = true
}

## Create a client with a custom client ID
resource "pocketid_client" "custom_id_app" {
  name      = "Custom ID Application"
  client_id = "my-custom-client-id"

  callback_urls = [
    "https://custom.example.com/callback"
  ]

  is_public    = false
  pkce_enabled = true
}

# Create a confidential web application
resource "pocketid_client" "web_app" {
  name = "Main Web Application"

  callback_urls = [
    "https://app.example.com/auth/callback",
    "https://staging.example.com/auth/callback",
    "http://localhost:8080/auth/callback"
  ]

  logout_callback_urls = [
    "https://app.example.com/logout",
    "https://staging.example.com/logout"
  ]

  is_public    = false
  pkce_enabled = true
}

# Create a mobile application client
resource "pocketid_client" "mobile_app" {
  name = "Mobile Application"

  callback_urls = [
    "com.example.myapp://callback",
    "myapp://auth/callback"
  ]

  is_public    = true
  pkce_enabled = true
}

# Create a client with restricted access
resource "pocketid_group" "developers" {
  name          = "developers"
  friendly_name = "Development Team"
}

resource "pocketid_group" "admins" {
  name          = "admins"
  friendly_name = "System Administrators"
}

resource "pocketid_client" "admin_portal" {
  name = "Admin Portal"

  callback_urls = [
    "https://admin.example.com/callback"
  ]

  logout_callback_urls = [
    "https://admin.example.com/logout"
  ]

  is_public    = false
  pkce_enabled = true

  # Only admins and developers can access this client
  allowed_user_groups = [
    pocketid_group.admins.id,
    pocketid_group.developers.id
  ]
}

# Store the client secret securely
resource "pocketid_client" "api_client" {
  name = "API Service Client"

  callback_urls = [
    "https://api.example.com/oauth/callback"
  ]

  is_public = false
}

# Output the client secret (be careful with this in production!)
output "api_client_secret" {
  value     = pocketid_client.api_client.client_secret
  sensitive = true
}

# Use the client ID in other resources
output "spa_client_id" {
  value = pocketid_client.spa_app.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `callback_urls` (List of String) List of allowed callback URLs for the OIDC client.
- `name` (String) The display name of the OIDC client.

### Optional

- `client_id` (String) The client ID to use for the OIDC client. If not set, one will be generated.
- `allowed_user_groups` (List of String) List of user group IDs that are allowed to use this client. If empty, all users can use this client.
- `is_public` (Boolean) Whether this is a public client (no client secret). Defaults to false.
- `logout_callback_urls` (List of String) List of allowed logout callback URLs for the OIDC client.
- `pkce_enabled` (Boolean) Whether PKCE is enabled for this client. Defaults to true.

### Read-Only

- `client_secret` (String, Sensitive) The client secret. Only available during resource creation for non-public clients.
- `has_logo` (Boolean) Whether the client has a logo configured.
- `id` (String) The ID of the OIDC client.
