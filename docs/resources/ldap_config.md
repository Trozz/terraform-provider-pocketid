---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pocketid_ldap_config Resource - pocketid"
subcategory: ""
description: |-
  Manages LDAP configuration in Pocket-ID. This is a singleton resource - only one LDAP configuration exists per Pocket-ID instance.
---

# pocketid_ldap_config (Resource)

Manages LDAP configuration in Pocket-ID. This is a singleton resource - only one LDAP configuration exists per Pocket-ID instance.

## Example Usage

```terraform
# Basic LDAP configuration
resource "pocketid_ldap_config" "main" {
  enabled        = true
  sync_on_change = true

  # Connection settings
  url              = "ldaps://ldap.example.com:636"
  bind_dn          = "cn=admin,dc=example,dc=com"
  bind_password    = var.ldap_bind_password
  base_dn          = "dc=example,dc=com"
  skip_cert_verify = false

  # Search filters
  user_search_filter       = "(objectClass=person)"
  user_group_search_filter = "(objectClass=groupOfNames)"

  # User attribute mappings
  user_attributes {
    unique_identifier = "objectGUID"
    username          = "sAMAccountName"
    email             = "mail"
    first_name        = "givenName"
    last_name         = "sn"
  }

  # Group attribute mappings
  group_attributes {
    member            = "member"
    unique_identifier = "objectGUID"
    name              = "cn"
    admin_group       = "PocketID-Admins"
  }

  # Behavior settings
  soft_delete_users = true
}

variable "ldap_bind_password" {
  type      = string
  sensitive = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) Enable or disable LDAP integration.

### Optional

- `base_dn` (String) Base DN for LDAP searches.
- `bind_dn` (String) Distinguished Name for LDAP bind authentication.
- `bind_password` (String, Sensitive) Password for bind DN.
- `group_attributes` (Attributes) Group attribute mappings from LDAP. (see [below for nested schema](#nestedatt--group_attributes))
- `skip_cert_verify` (Boolean) Skip TLS certificate verification for LDAPS.
- `soft_delete_users` (Boolean) When true, users not in LDAP are disabled instead of deleted.
- `sync_on_change` (Boolean) Trigger LDAP sync after configuration changes.
- `url` (String) LDAP server URL (ldap:// or ldaps://).
- `user_attributes` (Attributes) User attribute mappings from LDAP. (see [below for nested schema](#nestedatt--user_attributes))
- `user_group_search_filter` (String) LDAP filter for finding groups.
- `user_search_filter` (String) LDAP filter for finding users.

### Read-Only

- `id` (String) The ID of the LDAP configuration (always 'ldap').

<a id="nestedatt--group_attributes"></a>
### Nested Schema for `group_attributes`

Optional:

- `admin_group` (String) Name of LDAP group that grants admin role.
- `member` (String) LDAP attribute for group members.
- `name` (String) LDAP attribute for group name.
- `unique_identifier` (String) LDAP attribute for unique group identifier.


<a id="nestedatt--user_attributes"></a>
### Nested Schema for `user_attributes`

Optional:

- `email` (String) LDAP attribute for email.
- `first_name` (String) LDAP attribute for first name.
- `last_name` (String) LDAP attribute for last name.
- `unique_identifier` (String) LDAP attribute for unique user identifier.
- `username` (String) LDAP attribute for username.

## Import

Import is supported using the following syntax:

```shell
terraform import pocketid_ldap_config.main ldap
```

After import, you must provide the `bind_password` in your configuration as it is not returned by the API.
